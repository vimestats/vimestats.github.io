function getMainSlider(){let e=document.querySelectorAll(".main-slider");for(let n of e){let o;n.querySelector(".control-panel")&&(o=n.querySelector(".control-panel .title").innerHTML);let r,i=n.querySelector(".arrow-left"),s=n.querySelector(".arrow-right"),c=n.querySelector(".slides"),u=c.querySelectorAll(".slide"),a=0;if(n.querySelector(".bubles div")){r=n.querySelectorAll(".bubles div");for(let h=0;h<r.length;h++)r[h].addEventListener("click",(function(){a=h-1,t()}));for(let S=0;S<r.length;S++)r[S].addEventListener("click",(function(){a=S+1,l()}))}let y=!0,d=5e3;n.dataset.timer&&(d=Number(n.dataset.timer));let f=setInterval(t,d);function t(){if(!y||u.length<2)return;if(n.querySelector("video"))for(let e of n.querySelectorAll("video"))e.pause();y=!1,setTimeout((function(){y=!0}),640);let e=n.querySelector(".slides").scrollWidth/u.length;if(a++,a>u.length-1){a=0,c.style.transition="left 0s";let t=u[u.length-1];c.insertBefore(t,u[0]),c.style.left="0",setTimeout((function(){c.style.transition="",c.style.left=-1*e+"px",u[0].style.animation="none",u[1].style.animation="none",u[2].style.animation="none",u[3].style.animation="none"}),20),setTimeout((function(){c.style.transition="left 0s",c.appendChild(t),c.style.left="0",setTimeout((function(){c.style.transition=""}),20)}),600)}else c.style.left=-e*a+"px";n.querySelector(".bubles .active")&&(n.querySelector(".bubles .active").classList.remove("active"),r[a].classList.add("active")),n.querySelector(".counter")&&(n.querySelector(".counter").innerHTML=`0${a+1}`),clearInterval(f),f=setInterval(t,d),n.querySelector(".control-panel")&&nextNewsTab(n)}function l(){if(!y||u.length<2)return;if(n.querySelector("video"))for(let e of n.querySelectorAll("video"))e.pause();y=!1,setTimeout((function(){y=!0}),640);let e=n.querySelector(".slides").scrollWidth/u.length;if(a--,a<0){a=u.length-1,c.style.transition="left 0s";let t=u[0];c.appendChild(t),c.style.left=-e*(u.length-1)+"px",setTimeout((function(){c.style.transition="",c.style.left=-e*(u.length-2)+"px",u[0].style.animation="none",u[1].style.animation="none",u[2].style.animation="none",u[3].style.animation="none"}),20),setTimeout((function(){c.style.transition="left 0s",c.insertBefore(t,u[1]),c.style.left=-e*(u.length-1)+"px",setTimeout((function(){c.style.transition=""}),20)}),600)}else n.querySelector(".slides").style.left=-e*a+"px";n.querySelector(".bubles .active")&&(n.querySelector(".bubles .active").classList.remove("selected"),r[a].classList.add("selected")),n.querySelector(".counter")&&(n.querySelector(".counter").innerHTML=`0${a+1}`),clearInterval(f),f=setInterval(t,d),n.querySelector(".control-panel")&&prevNewsTab(n)}n.querySelector(".arrow-left")&&n.querySelector(".arrow-right")&&(s.addEventListener("click",t),i.addEventListener("click",l)),n.addEventListener("touchmove",(function(e){handleTouchMove(e,t,l)})),window.addEventListener("resize",(function(){a=1,l(),n.querySelector(".control-panel")&&(n.querySelector(".control-panel .title").innerHTML=o)}))}}getMainSlider(),document.addEventListener("touchstart",handleTouchStart,!1);let xDown=null,yDown=null;function handleTouchStart(e){xDown=e.touches[0].clientX,yDown=e.touches[0].clientY}function handleTouchMove(e,t,l,n,o){if(!xDown||!yDown)return;let r=e.touches[0].clientX,i=e.touches[0].clientY,s=xDown-r,c=yDown-i;Math.abs(s)>Math.abs(c)?s>0?t&&t():l&&l():c>0?o&&n():o&&o(),xDown=null,yDown=null}